<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>JoyReactor Visitor Options</title>
	<link href="css/options.css" rel="stylesheet">
	<script type="module" src="js/jquery.js"></script>
	<script type="module" src="js/options.js"></script>
</head>

<body>
	<main>
		<header>
			<h1>
				JoyReactor Visitor
				<a href="https://www.patreon.com/extradj" target="_blank" title="Псс, парень, не хочешь задонатить?"><svg height="546px" version="1.1" viewBox="0 0 569 546" width="569px" xmlns="http://www.w3.org/2000/svg"><g><circle cx="362.589996" cy="204.589996" r="204.589996" fill="#ff424d"></circle><rect height="545.799988" width="100" x="0" y="0" fill="#ff424d"></rect></g></svg></a>
				<a href="https://buymeacoffee.com/extradj" target="_blank" title="Псс, парень, не хочешь задонатить?"><svg version="1.0" id="katman_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="150 0 280 450" style="enable-background:new 0 0 400 450;" xml:space="preserve">
				<style type="text/css">
					.st0{fill:#010202;}
					.st1{fill:#FFDD06;}
				</style>
				<path class="st0" d="M390.1,137.3l-0.2-0.1l-0.5-0.2C389.5,137.2,389.8,137.3,390.1,137.3z"/>
				<path class="st0" d="M393.4,160.9l-0.3,0.1L393.4,160.9z"/>
				<path class="st0" d="M390.1,137.2C390.1,137.2,390.1,137.2,390.1,137.2C390,137.2,390,137.2,390.1,137.2
					C390.1,137.2,390.1,137.2,390.1,137.2z"/>
				<path class="st0" d="M393.1,160.7l0.4-0.2l0.1-0.1l0.1-0.1C393.5,160.4,393.3,160.6,393.1,160.7z"/>
				<path class="st0" d="M390.7,137.8l-0.4-0.4l-0.3-0.1C390.2,137.5,390.4,137.7,390.7,137.8z"/>
				<path class="st0" d="M297,366.2c-0.3,0.1-0.6,0.3-0.8,0.6l0.2-0.2C296.7,366.4,296.9,366.3,297,366.2z"/>
				<path class="st0" d="M351.5,355.4c0-0.3-0.2-0.3-0.1,0.9c0-0.1,0-0.2,0.1-0.3C351.4,355.9,351.4,355.7,351.5,355.4z"/>
				<path class="st0" d="M345.8,366.2c-0.3,0.1-0.6,0.3-0.8,0.6l0.2-0.2C345.5,366.4,345.7,366.3,345.8,366.2z"/>
				<path class="st0" d="M258.7,368.7c-0.2-0.2-0.5-0.3-0.8-0.4c0.2,0.1,0.5,0.2,0.6,0.3L258.7,368.7z"/>
				<path class="st0" d="M250.2,360.5c0-0.3-0.1-0.7-0.3-1C250,359.8,250.1,360.1,250.2,360.5L250.2,360.5z"/>
				<path class="st1" d="M308,212.8c-11.8,5.1-25.3,10.8-42.7,10.8c-7.3,0-14.5-1-21.5-3l12,123.6c0.4,5.2,2.8,10,6.6,13.5
					c3.8,3.5,8.8,5.5,14,5.5c0,0,17.1,0.9,22.8,0.9c6.1,0,24.5-0.9,24.5-0.9c5.2,0,10.2-1.9,14-5.5c3.8-3.5,6.2-8.3,6.6-13.5l12.9-136.5
					c-5.8-2-11.6-3.3-18.1-3.3C327.7,204.4,318.6,208.3,308,212.8z"/>
				<path class="st0" d="M206.5,160.2l0.2,0.2l0.1,0.1C206.8,160.3,206.7,160.2,206.5,160.2z"/>
				<path class="st0" d="M412.8,148.7l-1.8-9.1c-1.6-8.2-5.3-16-13.7-18.9c-2.7-0.9-5.8-1.4-7.8-3.3c-2.1-2-2.7-5-3.2-7.8
					c-0.9-5.2-1.7-10.4-2.6-15.6c-0.8-4.5-1.4-9.5-3.4-13.5c-2.7-5.5-8.2-8.7-13.7-10.8c-2.8-1-5.7-1.9-8.6-2.7
					c-13.7-3.6-28.1-4.9-42.2-5.7c-16.9-0.9-33.9-0.7-50.8,0.8c-12.6,1.1-25.8,2.5-37.7,6.9c-4.4,1.6-8.9,3.5-12.2,6.9
					c-4.1,4.1-5.4,10.6-2.4,15.7c2.1,3.7,5.7,6.3,9.5,8c4.9,2.2,10.1,3.9,15.4,5c14.8,3.3,30,4.5,45.1,5.1c16.7,0.7,33.4,0.1,50.1-1.6
					c4.1-0.5,8.2-1,12.3-1.6c4.8-0.7,7.9-7.1,6.5-11.4c-1.7-5.3-6.3-7.3-11.4-6.5c-0.8,0.1-1.5,0.2-2.3,0.3l-0.5,0.1
					c-1.8,0.2-3.5,0.4-5.3,0.6c-3.6,0.4-7.2,0.7-10.9,1c-8.1,0.6-16.3,0.8-24.5,0.8c-8,0-16-0.2-24-0.8c-3.7-0.2-7.3-0.5-10.9-0.9
					c-1.7-0.2-3.3-0.4-4.9-0.6l-1.6-0.2l-0.3,0l-1.6-0.2c-3.3-0.5-6.6-1.1-9.9-1.8c-0.3-0.1-0.6-0.3-0.8-0.5s-0.3-0.6-0.3-0.9
					c0-0.3,0.1-0.7,0.3-0.9s0.5-0.4,0.8-0.5h0.1c2.8-0.6,5.7-1.1,8.6-1.6c1-0.2,1.9-0.3,2.9-0.4h0c1.8-0.1,3.6-0.4,5.4-0.7
					c15.6-1.6,31.3-2.2,47-1.7c7.6,0.2,15.2,0.7,22.8,1.4c1.6,0.2,3.3,0.3,4.9,0.5c0.6,0.1,1.2,0.2,1.9,0.2l1.3,0.2
					c3.7,0.5,7.3,1.2,11,2c5.4,1.2,12.3,1.6,14.7,7.4c0.8,1.9,1.1,3.9,1.5,5.9l0.5,2.5c0,0,0,0.1,0,0.1c1.3,5.9,2.5,11.8,3.8,17.7
					c0.1,0.4,0.1,0.9,0,1.3c-0.1,0.4-0.3,0.9-0.5,1.2c-0.3,0.4-0.6,0.7-1,0.9c-0.4,0.2-0.8,0.4-1.2,0.4h0l-0.8,0.1l-0.8,0.1
					c-2.4,0.3-4.9,0.6-7.3,0.9c-4.8,0.5-9.6,1-14.4,1.4c-9.6,0.8-19.1,1.3-28.7,1.6c-4.9,0.1-9.8,0.2-14.7,0.2
					c-19.5,0-38.9-1.1-58.2-3.4c-2.1-0.2-4.2-0.5-6.3-0.8c1.6,0.2-1.2-0.2-1.7-0.2c-1.3-0.2-2.7-0.4-4-0.6c-4.5-0.7-8.9-1.5-13.4-2.2
					c-5.4-0.9-10.5-0.4-15.4,2.2c-4,2.2-7.2,5.5-9.3,9.6c-2.1,4.3-2.7,9.1-3.7,13.7c-0.9,4.7-2.4,9.7-1.8,14.5
					c1.2,10.3,8.4,18.7,18.8,20.6c9.8,1.8,19.6,3.2,29.5,4.4c38.7,4.7,77.9,5.3,116.7,1.7c3.2-0.3,6.3-0.6,9.5-1c1-0.1,2,0,2.9,0.3
					c0.9,0.3,1.8,0.9,2.5,1.6c0.7,0.7,1.2,1.5,1.6,2.5c0.3,0.9,0.5,1.9,0.4,2.9l-1,9.6c-2,19.3-4,38.6-5.9,58
					c-2.1,20.3-4.1,40.6-6.2,60.9c-0.6,5.7-1.2,11.4-1.8,17.1c-0.6,5.6-0.6,11.4-1.7,17c-1.7,8.7-7.6,14.1-16.2,16.1
					c-7.9,1.8-16,2.7-24.1,2.8c-9,0-18-0.3-27-0.3c-9.6,0.1-21.4-0.8-28.8-8c-6.5-6.3-7.4-16.1-8.3-24.6c-1.2-11.2-2.4-22.5-3.5-33.7
					l-6.5-62.5l-4.2-40.5c-0.1-0.7-0.1-1.3-0.2-2c-0.5-4.8-3.9-9.5-9.3-9.3c-4.6,0.2-9.8,4.1-9.3,9.3l3.1,30l6.5,62
					c1.8,17.6,3.7,35.2,5.5,52.9c0.4,3.4,0.7,6.8,1.1,10.1c2,18.5,16.1,28.4,33.6,31.2c10.2,1.6,20.6,2,31,2.1
					c13.3,0.2,26.7,0.7,39.7-1.7c19.3-3.5,33.8-16.4,35.9-36.5c0.6-5.8,1.2-11.6,1.8-17.3c2-19.1,3.9-38.2,5.9-57.4l6.4-62.5l2.9-28.6
					c0.1-1.4,0.7-2.8,1.7-3.8s2.2-1.8,3.6-2c5.5-1.1,10.8-2.9,14.7-7.1C413.8,166.2,415,157.5,412.8,148.7z M205,154.9
					c0.1,0-0.1,0.7-0.1,1C204.8,155.4,204.8,154.9,205,154.9z M205.5,159c0,0,0.2,0.1,0.3,0.4C205.6,159.2,205.5,159,205.5,159
					L205.5,159z M206,159.7C206.2,160.1,206.3,160.3,206,159.7L206,159.7z M207.1,160.6L207.1,160.6
					C207.1,160.6,207.2,160.6,207.1,160.6C207.1,160.6,207.1,160.6,207.1,160.6L207.1,160.6z M392.5,159.3c-2,1.9-5,2.8-7.9,3.2
					c-33.1,4.9-66.8,7.4-100.3,6.3c-24-0.8-47.7-3.5-71.5-6.8c-2.3-0.3-4.8-0.8-6.4-2.5c-3-3.2-1.5-9.7-0.7-13.7
					c0.7-3.6,2.1-8.4,6.4-8.9c6.6-0.8,14.4,2,20.9,3c7.9,1.2,15.9,2.2,23.8,2.9c34,3.1,68.7,2.6,102.5-1.9c6.2-0.8,12.3-1.8,18.5-2.9
					c5.5-1,11.5-2.8,14.8,2.8c2.3,3.9,2.6,9,2.2,13.4C394.8,156.2,393.9,158,392.5,159.3L392.5,159.3z"/>
				</svg></a>
			</h1>
			<h3>Настройки</h3>
		</header>
		<form>
			<div>
				<div>
					<span>Импорт/Экспорт/Синхронизация</span>
					<span class="help">Вы можете экспортировать список просмотренных постов для восстановления в случае необходимости. Это может быть полезно перед переустановкой операционной системы. Так же вы можете ввести пароль, и ваша история будет синхронизирована с облаком. После того  как пароль задан его изменять нельзя, потому как вероятна потеря история синхронизации</span>
				</div>
				<div>
					<input type="file" id="import" name="import">
					<label for="import">Импорт</label>
					<button type="button" id="export">Экспорт</button>
					<input type="text" name="sync_key" placeholder="Пароль для синхронизации" />
					<button type="button" id="sync_get">Загрузить настройки с облака</button>
					<button type="button" id="sync_set">Сохранить настройки в облако</button>
				</div>
			</div>
			<div>
				<div>
					<span>Исключить страницы</span>
					<span class="help">Вы можете указать на каких типах страницах не делать ничего с просмотренными постами. Разделить запятой<br>
					Что такое тип страницы:
					https://joyreactor.cc/<b>discussion</b>/my
					https://joyreactor.cc/<b>post</b>/12345
					https://joyreactor.cc/<b>user</b>/username
					</span>
				</div>
				<div>
					<input type="text" name="extension_ignore_url" placeholder="post, user, discussion, people" />
				</div>
			</div>
			<div>
				<div>
					<span>Исключить теги</span>
					<span class="help">Укажите через запятую важные вам теги. Посты с этими тегами не будут скрываться</span>
				</div>
				<div>
					<textarea name="tags_list" rows="3" placeholder="anon, реактор, dev"></textarea>
				</div>
			</div>
			<div>
				<div>
					<span>Метод исключения</span>
					<span class="help">Вы можете выбрать, где будут игнорироваться посты с введенными тегами</span>
				</div>
				<div>
					<input type="radio" name="tags_exceptions_page" id="tags_exceptions_page-1" value="all">
					<label for="tags_exceptions_page-1">Игнорировать везде</label>
					<input type="radio" name="tags_exceptions_page" id="tags_exceptions_page-2" value="tag">
					<label for="tags_exceptions_page-2">Только при просмотре фэндомов/тегов</label>
					<input type="radio" name="tags_exceptions_page" id="tags_exceptions_page-3" value="notag">
					<label for="tags_exceptions_page-3">Только при просмотре вне фэндомов/тегов</label>
				</div>
			</div>
			<div>
				<div>
					<span>Социалки</span>
					<span class="help">Вы можете отключить кнопки "поделиться" через социальные сети</span>
				</div>
				<div>
					<input type="radio" name="post_share_disabled" id="post_share_disabled-1" value="1">
					<label for="post_share_disabled-1">Включено</label>
					<input type="radio" name="post_share_disabled" id="post_share_disabled-2" value="0">
					<label for="post_share_disabled-2">Выключено</label>
				</div>
			</div>
			<div>
				<div>
					<span>Маркировка тегов</span>
					<span class="help">Вы можете включить/выключить маркировку тегов в посте. Если вы подписаны на тег - будет зеленая звездочка справа. Если тег у вас заблокирован - красный квадрат справа</span>
				</div>
				<div>
					<input type="radio" name="post_tags_mark" id="post_tags_mark-1" value="1">
					<label for="post_tags_mark-1">Включено</label>
					<input type="radio" name="post_tags_mark" id="post_tags_mark-2" value="0">
					<label for="post_tags_mark-2">Выключено</label>
				</div>
			</div>
			<div>
				<div>
					<span>Переключать страницы</span>
					<span class="help">Выберите более удобный для вас алгоритм действий, когда все посты на странице уже просмотрены</span>
				</div>
				<div>
					<input type="radio" name="post_pager" id="post_pager-1" value="withoutfirst">
					<label for="post_pager-1">Переключить на следующую, если это не первая</label>
					<input type="radio" name="post_pager" id="post_pager-2" value="all">
					<label for="post_pager-2">Переключить на следующую в любом случае</label>
					<input type="radio" name="post_pager" id="post_pager-3" value="none">
					<label for="post_pager-3">Отключить автоматический переход</label>
				</div>
			</div>
			<div>
				<div>
					<span>Быстрое скачивание</span>
					<span class="help">Вы можете включить/выключить кнопку быстрого скачивания картинок из поста. Также вы можете указать дочернюю папку в загрузках для скачивания и префикс файла</span>
				</div>
				<div>
					<input type="radio" name="download_status" id="download_status-1" value="1">
					<label for="download_status-1">Включено</label>
					<input type="radio" name="download_status" id="download_status-2" value="0">
					<label for="download_status-2">Выключено</label>
					<label for="download_folder">Дочерняя папка</label>
					<input type="text" name="download_folder" id="download_folder" placeholder="Доченяя папка" />
					<label for="download_prefix">Префикс файла</label>
					<input type="text" name="download_prefix" id="download_prefix" placeholder="Префикс файла" />
				</div>
			</div>
			<div>
				<div>
					<span>Просмотренные на страницах</span>
					<span class="help">Вы можете выбрать типы страниц на которых можно изменять просмотренные посты</span>
				</div>
				<div>
					<input type="radio" name="post_pages_action" id="post_pages_action-1" value="all">
					<label for="post_pages_action-1">Все</label>
					<input type="radio" name="post_pages_action" id="post_pages_action-2" value="tag">
					<label for="post_pages_action-2">Только при просмотре фэндомов/тегов</label>
					<input type="radio" name="post_pages_action" id="post_pages_action-3" value="notag">
					<label for="post_pages_action-3">Только при просмотре вне фэндомов/тегов</label>
				</div>
			</div>
			<div>
				<div>
					<span>Визуальная индикация</span>
					<span class="help">При прокрутке ленты посты которые, только что были отмечены как прочитанные, будут временно подсвечиваться зеленым. Если вам это не нужно - можете отключить</span>
				</div>
				<div>
					<input type="radio" name="post_visual_mark" id="post_visual_mark-1" value="1">
					<label for="post_visual_mark-1">Включено</label>
					<input type="radio" name="post_visual_mark" id="post_visual_mark-2" value="0">
					<label for="post_visual_mark-2">Выключено</label>
				</div>
			</div>
			<div>
				<div>
					<span>Просмотренные</span>
					<span class="help">Выберите более удобный для вас алгоритм действий с уже просмотренными постами</span>
				</div>
				<div>
					<input type="radio" name="post_action" id="post_action-0" value="none">
					<label for="post_action-0">Ничего не делать</label>
					<input type="radio" name="post_action" id="post_action-1" value="hide">
					<label for="post_action-1">Полностью скрыть</label>
					<input type="radio" name="post_action" id="post_action-2" value="translucent">
					<label for="post_action-2">Сделать полупрозрачным</label>
					<input type="radio" name="post_action" id="post_action-3" value="title">
					<label for="post_action-3">Заголовок + элементы управления. Кнопка комментариев, рейтинга и т.д.</label>
					<input type="radio" name="post_action" id="post_action-4" value="title_translucent">
					<label for="post_action-4">Заголовок + элементы управления. Полупрозрачный</label>
				</div>
			</div>
			<div>
				<div>
					<span>Новые комментарии</span>
					<span class="help">Вы можете отключить изменение просмотренных постов, если в них есть новые комментарии</span>
				</div>
				<div>
					<input type="radio" name="post_action_unread" id="post_action_unread-1" value="1">
					<label for="post_action_unread-1">Включено</label>
					<input type="radio" name="post_action_unread" id="post_action_unread-2" value="0">
					<label for="post_action_unread-2">Выключено</label>
				</div>
			</div>
			<div id="post_opacity" class="hide">
				<div>
					<span>Прозрачность</span>
					<span class="help">Вы можете отрегулировать степень прозрачности просмотренных постов</span>
				</div>
				<div>
					<input name="post_opacity" type="range" min="0" max="100" step="5" />
					<span></span>
				</div>
			</div>
			<div>
				<div>
					<span>Когда был просмотрен пост</span>
					<span class="help">Вы можете включить/отключить информацию о том, когда вы просматривали пост</span>
				</div>
				<div>
					<input type="radio" name="post_visited_date" id="post_visited_date-1" value="1">
					<label for="post_visited_date-1">Включено</label>
					<input type="radio" name="post_visited_date" id="post_visited_date-2" value="0">
					<label for="post_visited_date-2">Выключено</label>
				</div>
			</div>
			<div>
				<div>
					<span>Глубина</span>
					<span class="help">Как далеко заглядывать в историю при проверке постов</span>
				</div>
				<div>
					<input name="extension_depth" type="range" min="0" max="5" step="1" />
					<span></span>
				</div>
			</div>
			<div>
				<div>
					<span>Очистка</span>
					<span class="help">Если после обновления расширения оно не работает, или ведет себя странно - рекомендуется сбросить настройки. Если по каким либо причинам вам хочется сбросить историю просмотра - вы можете нажать на соответствующую кнопку. Очистка кеша позволяет удалить кеш заблокированных постов. Рекомендуется использовать только в случаях перебоев в работе реактора</span>
				</div>
				<div>
					<button type="button" id="reset">Сбросить настройки</button>
					<button type="button" id="clear">Очистить историю</button>
					<button type="button" id="cache">Очистить кеш</button>
					<button type="button" id="clearall">Удалить нахуй все</button>
				</div>
			</div>
		</form>
	</main>
</body>
</html>
